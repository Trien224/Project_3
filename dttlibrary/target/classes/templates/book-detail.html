<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title th:text="${book.title} ?: 'Chi tiết sách'">Chi tiết sách</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: #eaf4ff;
            font-family: "Segoe UI", sans-serif;
        }

        .book-image-main {
            max-height: 360px;
            object-fit: contain;
            border-radius: 12px;
            background: #fff;
        }

        .book-gallery img {
            cursor: pointer;
            transition: transform .2s;
        }

        .book-gallery img:hover {
            transform: scale(1.05);
        }
    </style>
</head>

<body>

<div class="container py-5">

    <div class="row g-4">

        <!-- ===== IMAGE ===== -->
        <div class="col-md-4 text-center">

            <!-- Ảnh chính -->
            <img th:if="${primaryImage != null}"
                 th:src="${primaryImage.url}"
                 class="img-fluid book-image-main shadow-sm mb-3">

            <!-- Không có ảnh -->
            <div th:if="${primaryImage == null}"
                 class="border rounded p-4 text-muted bg-white">
                No Image
            </div>

            <!-- Gallery -->
            <div class="row mt-3 book-gallery" th:if="${images != null}">
                <div class="col-4 mb-2" th:each="img : ${images}">
                    <img th:src="${img.url}" class="img-thumbnail">
                </div>
            </div>

        </div>

        <!-- ===== INFO ===== -->
        <div class="col-md-8">

            <h2 class="text-primary fw-bold mb-3"
                th:text="${book.title}">
                Book Title
            </h2>

            <p class="text-muted"
               th:text="${book.description != null ? book.description : ''}">
            </p>

            <hr>

            <p>
                <strong>ISBN:</strong>
                <span th:text="${book.isbn != null ? book.isbn : 'N/A'}"></span>
            </p>

            <p>
                <strong>Năm xuất bản:</strong>
                <span th:text="${book.publishedYear != null ? book.publishedYear : 'N/A'}"></span>
            </p>

            <p>
                <strong>Giá:</strong>
                <span th:text="${book.price != null ? book.price : 'N/A'}"></span>
            </p>

            <a href="/books" class="btn btn-outline-primary mt-3">
                ⬅ Quay lại danh sách
            </a>
        </div>

    </div>

</div>

</body>
</html>
